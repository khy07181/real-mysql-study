# Q1. ACID 속성 

트랜잭션의 ACID 속성 각각을 설명하고, MySQL InnoDB에서 어떻게 보장하는지 설명하세요.

----
### A ( Atomicity, 원자성 )
"All or Nothing" 트랜잭션 내의 모든 명령은 완벽하게 수행되거나, 하나라도 오류가 발생하면 전적으로 취소되어야 한다.

MySQL의 INNODB에서 undo log로 보장한다.

- 트랜잭션 수행 중 변경된 데이터를 커밋하기 전까지는 이전 데이터를 언두 로그에 보관한다.

- 오류가 발생하거나 사용자가 ROLLBACK을 실행하면, 언두 로그에 저장된 백업 데이터를 이용해 트랜잭션 시작 전 상태로 복구한다.

### C ( Consistency, 일관성 )
트랜잭션 수행 전후에 데이터베이스는 항상 일관된 상태(무결성 제약 조건 충족)를 유지해야 한다. 데이터 타입, 제약 조건(PK, FK 등)이 위배되지 않아야 한다.
> 쉽게 말해 : C는 DB에 정해진 규칙을 위반하지 않는 데이터는 받아들이지 않는다. (만약 어기면, 모두 거부해버린다)
> 가장 기초적인 데이터 타입 규칙부터, 제약 조건등을 지켜야 하는데, 지켜지지 않은 경우는...! -> doublewrite buffer 사용

MySQL InnoDB 보장 방식: Doublewrite Buffer 및 Crash Recovery

- InnoDB는 변경된 내용을 디스크에 쓰기 전에 Doublewrite Buffer라는 공간에 먼저 기록한다. 이는 페이지(Page)를 쓰는 도중 시스템이 셧다운(Partial Page Write)되었을 때,(=조건에 맞지 않는 데이터가 들어오면) 원본 페이지가 손상되는 것을 막고 복구할 수 있게 해 준다.

- 또한, 데이터베이스 엔진 수준에서 외래 키 제약 조건이나 데이터 타입을 엄격하게 검사하여 논리적인 일관성을 보장한다.


### I ( Isolation, 격리성 )
여러 트랜잭션이 동시에 실행될 때, 각 트랜잭션은 서로의 연산에 간섭받지 않고 독립적으로 수행되어야 한다. 특정 트랜잭션이 참조하거나 변경 중인 데이터를 다른 트랜잭션이 끼어들 수 없다.

MySQL InnoDB 보장 방식: MVCC (Multi-Version Concurrency Control) 및 Locks

- InnoDB는 언두 로그(Undo Log)를 활용한 MVCC를 통해 락(Lock)을 걸지 않고도 읽기 작업을 수행할 수 있게 한다. (Non-Locking Consistent Read)

- 트랜잭션 격리 수준(Isolation Level)에 따라 다르지만, 기본값인 REPEATABLE READ에서는 트랜잭션 번호를 기준으로 자신보다 이후에 발생한 변경 사항은 보이지 않도록 격리한다.

- 데이터 변경 시에는 레코드 락(Record Lock)이나 갭 락(Gap Lock) 등을 사용해 다른 트랜잭션의 접근을 제어한다.

### D ( Durability, 지속성 )
성공적으로 완료(Commit)된 트랜잭션의 결과는 시스템 오류나 전원 장애가 발생하더라도 영구적으로 보존되어야 한다.

MySQL InnoDB 보장 방식: Redo Log (리두 로그)

- 데이터 변경 사항은 디스크(데이터 파일)에 기록되기 전에 먼저 Redo Log에 기록된다. 이를 WAL(Write-Ahead Logging) 방식이라 한다.

- 메모리에만 반영된 상태에서 시스템이 붕괴되더라도, 재시작 시 리두 로그에 남아있는 기록을 통해 데이터를 복구(Replay)하여 변경 사항을 영구적으로 반영한다.
