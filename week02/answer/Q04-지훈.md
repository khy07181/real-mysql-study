# **Q4. InnoDB 잠금 종류**

InnoDB의 레코드 락, 갭 락, 넥스트 키 락의 차이점을 설명하세요.

---

### 레코드 락

- 레코드 자체만을 잠금
- **정확히는 레코드 자체가 아니라 인덱스의 레코드를 잠금!**

### 갭 락

쿼리에서 범위가 지정되어 있을 때, 해당 범위에 있는 Index Record 중 테이블에 존재하지 않는  범위에 걸리는 Lock

- 만약 테이블에 1,2 가 들어가 있을 때
  테이블에서 1이상 5 이하인 데이터를 조회한다면
  1~5사이에 있고 인덱스 테이블에 존재하지 않는 3,4,5에 GapLock이 걸린다.
- 인덱스 레코드와 인접한 앞/뒤 사이 공간에 락을 거는 것
- **record lock이 이미 존재하는 row가 변경되지 않도록 보호**하는 반면, 
**gap lock은 조건에 해당하는 새로운 row가 추가되는 것을 방지하기 위함**이다

### 넥스트 키 락

- 레코드 락과 갭락을 합쳐서 부르는 것